# Install chromium for puppeteer pre-rendering during build
[phases.setup]
nixPkgs = ["chromium"]
aptPkgs = ["chromium-browser"]

[phases.build]
cmds = [
  "which chromium chromium-browser || echo 'No chromium found in PATH'",
  "npm run build"
]

[variables]
# Tell puppeteer to skip downloading Chrome (we use system chromium)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD = "true"
